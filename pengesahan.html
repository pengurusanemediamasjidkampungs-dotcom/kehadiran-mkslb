<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Merekod Kehadiran MKSLB</title>
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background-color: #f2f2f7; 
            margin: 0; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            padding: 20px; 
        }
        .box { 
            background: white; 
            width: 100%; 
            max-width: 400px; 
            padding: 40px 20px; 
            border-radius: 24px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); 
            text-align: center; 
        }
        img { width: 100px; height: auto; margin-bottom: 20px; }
        h3 { color: #1c1c1e; margin: 15px 0 5px 0; font-size: 1.4rem; font-weight: 700; }
        p { color: #8e8e93; font-size: 1rem; margin-bottom: 25px; line-height: 1.5; }
        strong { color: #1b5e20; display: block; margin-top: 8px; text-transform: uppercase; font-size: 1.1rem; }
        .loader { 
            border: 4px solid #f3f3f3; 
            border-top: 4px solid #1b5e20; 
            border-radius: 50%; 
            width: 40px; 
            height: 40px; 
            animation: spin 1s linear infinite; 
            margin: 0 auto; 
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="box">
        <img src="logo.png" alt="Logo Masjid">
        <h3>Merekod Kehadiran...</h3>
        <p>Selamat Bertugas,<br><strong id="display-name">Memuatkan nama...</strong></p>
        <div class="loader"></div>
    </div>

    <script>
        // DATABASE NAMA (Mesti sama dengan ID dalam link index.html)
        const databasePetugas = {
            "FAUZIDIN": "TN. HJ FAUZI BIN DIN",
            "AZAHARI": "TN. AZAHARI BIN REDZUAN",
            "NAUDI": "TN. MOHAMAD NAUDI HAQQI BIN AHMAD",
            "AIMAN": "EN. MUHAMMAD AIMAN BIN MOHAMAD RAFEE",
            "FAIZ": "EN. FAIZ BIN MUFASSIR",
            "NORFAIZAL": "TN. MOHAMMAD NORFAIZAL BIN MOHAMED",
            "SYAMIM": "EN. MUHAMMAD SYAMIM FIKRI BIN ABU SAMAH",
            "FAUZI": "EN. FAUZI BIN ROSLAN",
            "MAKSOM": "TN. HJ MAKSOM BIN ABDUL RAHMAN"
        };

        // Ambil ID dari URL (?id=xxxx)
        const params = new URLSearchParams(window.location.search);
        const petugasID = params.get('id') ? params.get('id').toUpperCase() : "";
        
        // URL GAS ANDA YANG BARU
        const gasURL = "https://script.google.com/macros/s/AKfycbzyRSVduN11IQPvmOlQ_iV2wyrmmdHstA46wIkLkLhDsrSitAWHnGRlBpNE56zp9ultmg/exec";

        if (databasePetugas[petugasID]) {
            // Paparkan nama petugas di skrin
            document.getElementById('display-name').innerText = databasePetugas[petugasID];
            
            // Redirect ke GAS selepas 2 saat
            setTimeout(() => {
                window.location.href = gasURL + "?nama=" + petugasID;
            }, 2000);
        } else {
            document.getElementById('display-name').innerText = "ID TIDAK DIKENALI";
            document.getElementById('display-name').style.color = "#c53030";
        }
    </script>
</body>
</html>
